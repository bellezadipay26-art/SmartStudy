/* ChatPage.css */

:root { --bottom-nav-h: 96px; }

/* =========================
   DESKTOP LAYOUT
   ========================= */
.chat-page-container {
  display: flex;
  width: calc(100% - 220px);
  margin-left: 220px;
  height: 100vh;
  box-sizing: border-box;
  gap: 12px;
  padding: 12px;
  overflow-x: hidden;
}

/* LEFT: Sidebar */
.chat-page-container .sidebar-container {
  flex: 0 0 260px;
  width: 260px;
  min-width: 0;
}

/* CENTER: Messages */
.chat-page-container .messages-container {
  flex: 1 1 auto;
  min-width: 0;
}

/* RIGHT: Profile pane */
.profile-pane{
  flex: 0 0 360px;
  width: 360px;
  max-width: 360px;
  display: flex;
  justify-content: center;
  align-self: stretch;
  max-height: calc(100vh - 24px);
  overflow: hidden;
}

/* keep ProfileCardMessaging inside pane */
.profile-pane .ProfileCardMessaging,
.profile-pane .ProfileCardMessaging.active {
  position: relative !important;
  transform: none !important;
  width: 100% !important;
  max-width: 360px !important;
  margin: 0 !important;
  max-height: 100%;
}

/* topbar hidden on desktop */
.mobile-chat-topbar { 
  display: none;
}

/* =========================
   âœ… MOBILE MODE
   (ONLY when ChatPage.js adds class "mobile")
   ========================= */
   
.chat-page-container.mobile{
  margin-left: 0 !important;
  width: 100vw !important;
  height: calc(100dvh - var(--bottom-nav-h)) !important;
  padding: 0 !important;
  gap: 0 !important;

  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;

  background: #EDF2F4 !important;
  box-sizing: border-box !important;
}

/* mobile top bar shown only when chat open */
.chat-page-container.mobile.has-chat .mobile-chat-topbar{
  display: flex !important;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: #EDF2F4;
  border-bottom: 1px solid #ddd;
  box-sizing: border-box;
}

.mobile-back{
  background: #3558e5;
  color: #fff;
  border: none;
  padding: 10px 12px;
  border-radius: 10px;
  font-weight: 700;
}

.mobile-title{
  font-weight: 800;
  color: #2b2d42;
}

/* hide profile on mobile */
.chat-page-container.mobile .profile-pane,
.chat-page-container.mobile .ProfileCardMessaging{
  display: none !important;
}

/* sidebar full screen on mobile */
.chat-page-container.mobile .sidebar-container{
  width: 100% !important;
  flex: none !important;
  margin: 0 !important;
  box-sizing: border-box !important;
}

/* when chat open: hide sidebar */
.chat-page-container.mobile.has-chat .sidebar-container{
  display: none !important;
}

/* messages fill screen */
.chat-page-container.mobile .messages-container{
  width: 100% !important;
  max-width: 100% !important;
  flex: 1 !important;
  min-height: 0 !important;
  box-sizing: border-box !important;
}