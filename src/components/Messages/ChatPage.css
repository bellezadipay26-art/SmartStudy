/* ChatPage.css */

.chat-page-container {
  display: flex;
  width: calc(100% - 220px);
  margin-left: 220px;
  height: 100vh;
  box-sizing: border-box;
  gap: 12px;              /* ✅ space between columns */
  padding: 12px;          /* ✅ space from screen edge */
  overflow-x: hidden;     /* ✅ prevent horizontal overflow */
}

/* LEFT: Sidebar */
.chat-page-container .sidebar-container {
  flex: 0 0 260px;   /* fixed sidebar width */
  width: 260px;
  min-width: 0;           /* ✅ important in flex layouts */
}

/* CENTER: Messages (take remaining space) */
.chat-page-container .messages-container {
  flex: 1 1 auto;
  min-width: 0;      /* IMPORTANT: allows flex child to shrink properly */
}

/* RIGHT: Profile pane (desktop only) */
.profile-pane{
  flex: 0 0 360px;
  width: 360px;
  max-width: 360px;
  display: flex;
  justify-content: center; /* ✅ center the card inside */
  align-self: stretch;
  max-height: calc(100vh - 24px); /* matches your padding */
  overflow: hidden;
}

/* ✅ IMPORTANT: override absolute positioning of ProfileCardMessaging INSIDE profile-pane */
.profile-pane .ProfileCardMessaging,
.profile-pane .ProfileCardMessaging.active {
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  transform: none !important;
  max-height: 100%;
  width: 100% !important;
  max-width: 360px !important;
   margin: 0 !important;
}

/* =========================
   ✅ ANDROID ONLY OVERRIDES
   ChatPage (mobile layout)
   ========================= */

:root { --bottom-nav-h: 96px; }

/* ✅ ANDROID class version */
.android .chat-page-container {
  margin-left: 0 !important;
  width: 100vw !important;
  height: calc(100dvh - var(--bottom-nav-h)) !important;
  padding: 0 !important;
  gap: 0 !important;

  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;

  background: #EDF2F4 !important;
  box-sizing: border-box !important;
}

.android .profile-pane,
.android .ProfileCardMessaging {
  display: none !important;
}

.android .chat-page-container .sidebar-container {
  width: 100% !important;
  flex: none !important;
  margin: 0 !important;
  box-sizing: border-box !important;
}

.android .chat-page-container.has-chat .sidebar-container {
  display: none !important;
}

.android .chat-page-container .messages-container {
  width: 100% !important;
  max-width: 100% !important;
  flex: 1 !important;
  min-height: 0 !important;
  box-sizing: border-box !important;
}


/* ✅ FALLBACK version (works even if .android is missing) */
@media (max-width: 900px) {
  .chat-page-container {
    margin-left: 0 !important;
    width: 100vw !important;
    height: calc(100dvh - var(--bottom-nav-h)) !important;
    padding: 0 !important;
    gap: 0 !important;

    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;

    background: #EDF2F4 !important;
    box-sizing: border-box !important;
  }

  .profile-pane,
  .ProfileCardMessaging {
    display: none !important;
  }

  .chat-page-container .sidebar-container {
    width: 100% !important;
    flex: none !important;
    margin: 0 !important;
    box-sizing: border-box !important;
  }

  .chat-page-container.has-chat .sidebar-container {
    display: none !important;
  }

  .chat-page-container .messages-container {
    width: 100% !important;
    max-width: 100% !important;
    flex: 1 !important;
    min-height: 0 !important;
    box-sizing: border-box !important;
  }
}